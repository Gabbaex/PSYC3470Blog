{
  "hash": "13ee2c8d8a847e20d1f898e677b42a0b",
  "result": {
    "markdown": "---\ntitle: \"Tidy Tuesday: Example\"\nauthor: \"Gabi Yepez\"\ndate: \"2023-04-26\"\ncategories: [Data Tidying]\nimage: \"data_tidy.webp\"\n---\n\n\n## \n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load('2023-05-02')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Compiling #TidyTuesday Information for 2023-05-02 ----\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- There are 3 files available ---\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Starting Download ---\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tDownloading file 1 of 3: `plots.csv`\n\tDownloading file 2 of 3: `species.csv`\n\tDownloading file 3 of 3: `surveys.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Download complete ---\n```\n:::\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(2023, week = 18)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Compiling #TidyTuesday Information for 2023-05-02 ----\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- There are 3 files available ---\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Starting Download ---\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tDownloading file 1 of 3: `plots.csv`\n\tDownloading file 2 of 3: `species.csv`\n\tDownloading file 3 of 3: `surveys.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Download complete ---\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplots <- tuesdata$plots\nspecies <- tuesdata$species\nsurveys <- tuesdata$surveys\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# All packages used in this script:\nlibrary(portalr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'portalr' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\ndownload_observations(\".\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nExisting local version is up-to-date with remote version (4.10.0) requested and `force` is FALSE, download is skipped\n```\n:::\n\n```{.r .cell-code}\ndata_tables <- load_rodent_data()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading in data version 4.10.0\n```\n:::\n\n```{.r .cell-code}\nspecies_data <- data_tables[[\"species_table\"]]\nplots_data <- data_tables[[\"plots_table\"]]\n\nplot_treatments <- plots_data %>%\n  filter(year > 1977) |>\n  mutate(iso_date = as.Date(paste0(year, \"-\", month, \"-\", \"01\")), \n         plot = as.factor(plot)) %>%\n  select(iso_date, plot, treatment)\n\nplots_data_longterm <- plot_treatments |>\n  group_by(plot) |>\n  summarize(treatment = case_when(\n              all(treatment == \"control\") ~ \"control\",\n              all(treatment == \"exclosure\") ~ \"exclosure\")) |>\n  filter(!is.na(treatment))\n\nspecies_data <- species_data |>\n  filter(censustarget == 1, unidentified == 0)\n\nsurvey_data <- summarize_individual_rodents(\n  time = \"date\",\n  length = \"Longterm\") |>\n  filter(year > 1977) |>\n  filter(species %in% unique(species_data$species))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading in data version 4.10.0\n```\n:::\n\n```{.r .cell-code}\nwrite.csv(survey_data, \"surveys.csv\", row.names = FALSE, na = \"\")\nwrite.csv(plots_data_longterm, \"plots.csv\", row.names = FALSE, na = \"\")\nwrite.csv(species_data, \"species.csv\", row.names = FALSE, na = \"\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}