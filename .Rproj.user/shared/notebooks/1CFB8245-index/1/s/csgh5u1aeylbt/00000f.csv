"0",""
"0","untidy_data <- read_csv(""data/untidy_data.csv"", "
"0","                        show_col_types = FALSE)"
"0",""
"0","longer_data <- pivot_longer("
"0","  data = untidy_data,"
"0","  cols = itemsprice_2018:totalprice_2020,"
"0","  names_to = c(""category"", ""year""),"
"0","  names_sep = ""_"", "
"0","  values_to = ""value"", "
"0","  names_transform = list(year = as.integer),"
"0","  values_transform = list(value = as.character) "
"0",") "
"0",""
"0","wider_data <- pivot_wider("
"0","  data = longer_data,"
"0","  id_cols = c(customer_id, year),"
"0","  names_from = category,"
"0","  values_from = value"
"0",")"
"0",""
"0","split_data <- separate("
"0","  data = wider_data,"
"0","  col = itemsprice,"
"0","  into = c(""items"", ""price_per_item""),"
"0","  sep = "" "", "
"0","  remove = TRUE, "
"0","  convert = TRUE"
"0",") "
"0",""
"0","mutated_data <- mutate("
"0","  .data = split_data,"
"0","  price_per_item = stringr::str_replace_all("
"0","    string = price_per_item, "
"0","    pattern = ""[()]"", "
"0","    replacement = """""
"0","  )"
"0",") "
"0",""
"0","tidy_data <- type_convert("
"0","  df = mutated_data,"
"0","  trim_ws = TRUE"
"0",")"
"2","
[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
cols(
  price_per_item = [32mcol_double()[39m,
  totalprice = [32mcol_double()[39m
)
"
