"0","missing_bad <- budget4 %>%"
"0","  mutate(expenses = ifelse("
"0","    test = year == 2020 & region == ""South"", "
"0","    yes = 0, # value if above conditions are met"
"0","    no = expenses # value if above conditions are not met"
"0","  ))"
"0",""
"0",""
"0","missing_bad <- budget4 %>%"
"0","  mutate(expenses = case_when("
"0","    # set to 0 when year is 2020 and region is North"
"0","    year == 2020 & region == ""South"" ~ 0, "
"0","    # otherwise, set to the value in the expenses column"
"0","    TRUE ~ expenses   "
"0","  ))"
"0",""
"0","# set sales values to ""missing"" for North 2020 rows"
"0","missing_bad <- missing_bad %>%"
"0","  mutate(sales = ifelse(year == 2020 & region == ""North"", "
"0","                        ""missing"", "
"0","                        sales))"
"0",""
"0","# check structure of data, sales now character"
"0","str(missing_bad)"
"1","tibble [16 Ã— 5]"
"1",""
"1"," (S3: "
"1",""
"1","tbl_df/tbl/data.frame"
"1",""
"1",")"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","region  "
"1",""
"1",":"
"1"," chr [1:16] "
"1",""
"1","""North"" ""North"" ""North"" ""North"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","product "
"1",""
"1",":"
"1"," chr [1:16] "
"1",""
"1","""widgets"" ""widgets"" ""gadgets"" ""gadgets"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","year    "
"1",""
"1",":"
"1"," chr [1:16] "
"1",""
"1","""2019"" ""2020"" ""2019"" ""2020"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","sales   "
"1",""
"1",":"
"1"," chr [1:16] "
"1",""
"1","""2129"" ""missing"" ""723"" ""missing"""
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","expenses"
"1",""
"1",":"
"1"," num [1:16] "
"1",""
"1","822 -897 1037 1115 1004"
"1",""
"1"," ..."
"1",""
"1","
"
"0","# set sales values to ""missing"" for North 2020 rows"
"0","missing_bad <- missing_bad %>%"
"0","  mutate(sales = as.character(sales),"
"0","         sales = case_when(year == 2020 & region == ""North"" ~ ""missing"", "
"0","                           TRUE ~ sales))"
"0",""
"0",""
"0","# try to compute mean sales"
"0","missing_bad %>%"
"0","  summarise(mean_sales = mean(sales))"
"2","Warning: [38;5;255mThere was 1 warning in `summarise()`.[39m
[38;5;255m[36mâ„¹[38;5;255m In argument: `mean_sales = mean(sales)`.[39m
Caused by warning in `mean.default()`:
[33m![39m argument is not numeric or logical: returning NA"
